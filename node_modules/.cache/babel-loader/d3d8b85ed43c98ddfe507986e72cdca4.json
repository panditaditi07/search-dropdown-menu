{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/teainee/Documents/React-tasks/dropdown-menu/src/components/DropDown/dropDown.jsx\";\nimport React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleDown, faAngleUp, faTimesCircle, faCheckSquare, faSquare, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport SearchBox from \"../SearchBox/searchBox\";\nimport styles from \"./dropDown.module.scss\";\nimport propTypes from \"prop-types\";\n\nclass DropDown extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      resultList: [],\n      OptionList: [],\n      showOptions: false,\n      showList: false,\n      selectAll: false,\n      hideList: false,\n      searchInput: \"\"\n    };\n\n    this.handleChange = onChange => {\n      this.setState({\n        searchInput: onChange\n      });\n    };\n\n    this.getResult = result => {\n      this.setState({\n        resultList: [...result]\n      });\n    };\n\n    this.removeAllOption = () => {\n      this.setState({\n        OptionList: [],\n        selectAll: false\n      });\n\n      if (this.state.OptionList.length && this.state.hideList === true) {\n        this.setState({\n          showList: true\n        });\n      }\n    };\n\n    this.iconToggle = () => {\n      this.setState({\n        showOptions: !this.state.showOptions\n      });\n    };\n\n    this.removeOption = option => {\n      const {\n        OptionList\n      } = this.state;\n      const {\n        showKey,\n        getList\n      } = this.props;\n      let result = OptionList.filter(selectedoption => {\n        return selectedoption[showKey] !== option[showKey];\n      });\n      this.setState({\n        OptionList: result\n      }, () => {\n        getList(this.state.OptionList);\n      });\n\n      if (result.length === 0 || result.length - 1) {\n        this.setState({\n          selectAll: false\n        });\n      }\n    };\n\n    this.removeSelectedOption = option => {\n      this.isSelected(option) ? this.removeOption(option) : this.addToList(option);\n    };\n\n    this.selectAllData = () => {\n      const {\n        data\n      } = this.props;\n      const {\n        selectAll\n      } = this.state;\n      const result = data.map(options => {\n        return options;\n      });\n      this.setState({\n        OptionList: result,\n        selectAll: !selectAll\n      }, () => {\n        if (selectAll === true) {\n          this.setState({\n            OptionList: []\n          });\n        } else {\n          this.setState({\n            OptionList: result\n          });\n        }\n      });\n    };\n\n    this.addToList = option => {\n      const {\n        OptionList\n      } = this.state;\n      const {\n        multipleSelect\n      } = this.props;\n      const options = [...OptionList, { ...option\n      }];\n      this.setState({\n        OptionList: options\n      });\n\n      if (!multipleSelect) {\n        this.setState({\n          OptionList: [{ ...option\n          }]\n        });\n        const {\n          getList\n        } = this.props;\n        getList(option);\n        this.toggle();\n      }\n    };\n\n    this.hideList = event => {\n      const {\n        multipleSelect,\n        getList\n      } = this.props;\n      const {\n        OptionList\n      } = this.state;\n\n      if (event.currentTarget.id === \"dropdown-div\" && !event.currentTarget.contains(event.relatedTarget)) {\n        this.toggle();\n        this.setState({\n          hideList: !this.state.hideList\n        });\n      }\n\n      if (multipleSelect && OptionList.length) {\n        getList(OptionList);\n      }\n    };\n\n    this.toggle = () => {\n      this.setState({\n        showList: !this.state.showList\n      });\n    };\n\n    this.isSelected = option => {\n      const {\n        showKey\n      } = this.props;\n      return this.state.OptionList.some(options => options[showKey] === option[showKey]);\n    };\n\n    this.isAllSelected = () => {\n      if (this.state.resultList.length) return false;\n      return true;\n    };\n\n    this.DropDownToggle = () => {\n      const {\n        OptionList,\n        resultList\n      } = this.state;\n\n      if (!OptionList.length) {\n        this.toggle();\n      } else if (this.state.hideList === true) {\n        if (OptionList.length--) {\n          this.setState({\n            showList: false\n          });\n          console.log(\"Running decremeny\");\n        } else {\n          this.toggle();\n        }\n      } else if (this.state.hideList === false && OptionList.length) {\n        this.setState({\n          showList: true\n        });\n        console.log(\"rnning2\");\n      } else if (this.state.hideList === false && OptionList.length && resultList.length) {\n        this.setState({\n          showList: true\n        });\n        console.log(\"rnning3\");\n      }\n    };\n\n    this.noResults = () => {\n      const {\n        showKey\n      } = this.props;\n      const result = this.state.resultList.some(options => this.state.searchInput !== options[showKey]);\n      console.log(result);\n\n      if (result === false && !this.state.searchInput.length) {\n        return true;\n      }\n\n      if (result === true) {\n        return true;\n      } else if (result === false) {\n        return false;\n      }\n    };\n  }\n\n  /**\n   * returns dropdown list\n   */\n  render() {\n    console.log(this.state.resultList);\n    const {\n      showList,\n      resultList,\n      OptionList,\n      selectAll,\n      showOptions\n    } = this.state;\n    const {\n      placeholder,\n      data,\n      searchList,\n      showKey,\n      multipleSelect\n    } = this.props;\n    const list = resultList.length ? resultList : data;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        tabIndex: \"0\",\n        id: \"dropdown-div\",\n        onBlur: this.hideList,\n        className: styles[\"dropdown-div\"],\n        \"data-test\": \"DropdownComponent\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: this.DropDownToggle,\n          className: `${styles[\"dropdown-button\"]} ${styles[OptionList.length > 10 ? \"adjustheight\" : \"\"]}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles[\"button-heading\"],\n            children: OptionList.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles[\"selectedOptions\"],\n              children: multipleSelect ? OptionList.map((optionSelected, i) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles[\"multiSelectOption\"],\n                  children: [optionSelected[showKey].length > 10 ? optionSelected[showKey].substring(0, 10) + \"...\" : optionSelected[showKey], /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    onClick: () => {\n                      this.removeOption(optionSelected);\n                    },\n                    className: styles[\"removeOption\"],\n                    icon: faTimesCircle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 27\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 25\n                }, this);\n              }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                children: OptionList[0][showKey]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: placeholder\n            }, void 0, false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles[\"icons\"],\n            children: [OptionList.length ? /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              className: styles[\"removeIcon\"],\n              onClick: this.removeAllOption,\n              icon: faTimes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              onClick: this.iconToggle,\n              \"data-test\": \"icon\",\n              icon: showOptions ? faAngleUp : faAngleDown,\n              className: styles[\"icon\"]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), showOptions || showList( /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"lists\",\n          className: `${styles[\"dropdownlist\"]}`,\n          onBlur: this.hideList,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"searchInput\",\n            className: styles[\"searchBar-div\"],\n            onFocus: this.onSearchFocus,\n            onBlur: this.onSearchBlur,\n            children: /*#__PURE__*/_jsxDEV(SearchBox, {\n              data: data,\n              result: this.getResult,\n              searchkeys: searchList.searchkeys,\n              placeholder: searchList.placeholder,\n              className: styles[\"searchbar\"],\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 17\n          }, this), this.noResults() ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles[\"allListDiv\"],\n            children: [multipleSelect && this.isAllSelected() ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles[\"selectAll\"],\n              onClick: this.selectAllData,\n              children: [multipleSelect ? /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                className: styles[\"check-icon\"],\n                color: \"#3483eb\",\n                size: \"2x\",\n                icon: selectAll ? faCheckSquare : faSquare\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 27\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: styles[\"selectAll-heading\"],\n                children: \"Select All\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 23\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), list.map((option, i) => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles[\"lists\"],\n                onClick: () => {\n                  this.removeSelectedOption(option);\n                },\n                \"data-test\": \"list\",\n                children: [multipleSelect ? /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  color: \"#3483eb\",\n                  size: \"2x\",\n                  icon: this.isSelected(option) ? faCheckSquare : faSquare\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 29\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `${styles[\"list-button\"]} ${styles[this.isSelected(option) ? \"selected\" : \"\"]}`,\n                  children: option[showKey]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 27\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 25\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles[\"no-result\"],\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: \"No results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nDropDown.propTypes = {\n  /**\n   *  must be array of objects\n   */\n  data: propTypes.array.isRequired,\n\n  /**\n   * must be a string (searchInput)\n   */\n  showKey: propTypes.string.isRequired,\n\n  /**\n   * must be a string\n   */\n  placeholder: propTypes.string,\n\n  /**\n   * must be an object\n   */\n  searchList: propTypes.object,\n\n  /**\n   * must be array of object keys and it is an object of searchList\n   */\n  searchkeys: propTypes.arrayOf(propTypes.string.isRequired),\n\n  /**\n   * will give the result\n   */\n  getList: propTypes.func.isRequired,\n  multipleSelect: propTypes.bool\n};\nDropDown.defaultProps = {\n  placeholder: \"Select\"\n};\nexport default DropDown;","map":{"version":3,"sources":["/home/teainee/Documents/React-tasks/dropdown-menu/src/components/DropDown/dropDown.jsx"],"names":["React","Component","FontAwesomeIcon","faAngleDown","faAngleUp","faTimesCircle","faCheckSquare","faSquare","faTimes","SearchBox","styles","propTypes","DropDown","state","resultList","OptionList","showOptions","showList","selectAll","hideList","searchInput","handleChange","onChange","setState","getResult","result","removeAllOption","length","iconToggle","removeOption","option","showKey","getList","props","filter","selectedoption","removeSelectedOption","isSelected","addToList","selectAllData","data","map","options","multipleSelect","toggle","event","currentTarget","id","contains","relatedTarget","some","isAllSelected","DropDownToggle","console","log","noResults","render","placeholder","searchList","list","optionSelected","i","substring","onSearchFocus","onSearchBlur","searchkeys","array","isRequired","string","object","arrayOf","func","bool","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faAngleDown,\n  faAngleUp,\n  faTimesCircle,\n  faCheckSquare,\n  faSquare,\n  faTimes,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport SearchBox from \"../SearchBox/searchBox\";\nimport styles from \"./dropDown.module.scss\";\nimport propTypes from \"prop-types\";\n\nclass DropDown extends Component {\n  state = {\n    resultList: [],\n    OptionList: [],\n    showOptions: false,\n    showList: false,\n    selectAll: false,\n    hideList: false,\n    searchInput: \"\",\n  };\n\n  handleChange = (onChange) => {\n    this.setState({ searchInput: onChange });\n  };\n  /**\n   *\n   * @param {result} result\n   * stores the result\n   */\n  getResult = (result) => {\n    this.setState({ resultList: [...result] });\n  };\n  /**\n   *\n   * @param {event} event\n   * focuses on searchBar\n   */\n\n  /**\n   * removes all selected Options\n   */\n  removeAllOption = () => {\n    this.setState({ OptionList: [], selectAll: false });\n    if (this.state.OptionList.length && this.state.hideList === true) {\n      this.setState({ showList: true });\n    }\n  };\n  iconToggle = () => {\n    this.setState({ showOptions: !this.state.showOptions });\n  };\n\n  /**\n   *\n   * @param {option} option\n   * removes selected options\n   */\n  removeOption = (option) => {\n    const { OptionList } = this.state;\n    const { showKey, getList } = this.props;\n    let result = OptionList.filter((selectedoption) => {\n      return selectedoption[showKey] !== option[showKey];\n    });\n\n    this.setState({ OptionList: result }, () => {\n      getList(this.state.OptionList);\n    });\n\n    if (result.length === 0 || result.length - 1) {\n      this.setState({ selectAll: false });\n    }\n  };\n  /**\n   *\n   * @param {option} option\n   * if the option is selected it removes it\n   * and if the option is not selected it adds\n   * to the list.\n   */\n\n  removeSelectedOption = (option) => {\n    this.isSelected(option)\n      ? this.removeOption(option)\n      : this.addToList(option);\n  };\n\n  /**\n   * it returns the select All data and sets the states.\n   */\n  selectAllData = () => {\n    const { data } = this.props;\n    const { selectAll } = this.state;\n    const result = data.map((options) => {\n      return options;\n    });\n    this.setState({ OptionList: result, selectAll: !selectAll }, () => {\n      if (selectAll === true) {\n        this.setState({ OptionList: [] });\n      } else {\n        this.setState({ OptionList: result });\n      }\n    });\n  };\n\n  /**\n   *\n   * @param {option}\n   * stores array of Objects of the selected option\n   */\n  addToList = (option) => {\n    const { OptionList } = this.state;\n    const { multipleSelect } = this.props;\n    const options = [...OptionList, { ...option }];\n    this.setState({ OptionList: options });\n\n    if (!multipleSelect) {\n      this.setState({ OptionList: [{ ...option }] });\n\n      const { getList } = this.props;\n      getList(option);\n      this.toggle();\n    }\n  };\n  /**\n   *\n   * @param {event} event\n   * it hides the list when out of Focus\n   */\n  hideList = (event) => {\n    const { multipleSelect, getList } = this.props;\n    const { OptionList } = this.state;\n    if (\n      event.currentTarget.id === \"dropdown-div\" &&\n      !event.currentTarget.contains(event.relatedTarget)\n    ) {\n      this.toggle();\n\n      this.setState({ hideList: !this.state.hideList });\n    }\n\n    if (multipleSelect && OptionList.length) {\n      getList(OptionList);\n    }\n  };\n\n  /**\n   * arrow angle is changed\n   */\n  toggle = () => {\n    this.setState({ showList: !this.state.showList });\n  };\n\n  /**\n   * @param {option}\n   * checks wheather the option is selected\n   */\n  isSelected = (option) => {\n    const { showKey } = this.props;\n    return this.state.OptionList.some(\n      (options) => options[showKey] === option[showKey]\n    );\n  };\n  /**\n   * it checks for selectAllOptions & OptionList length and\n   * returns true else true false\n   */\n  isAllSelected = () => {\n    if (this.state.resultList.length) return false;\n    return true;\n  };\n  /**\n   * toggles the dropdown menu\n   */\n\n  DropDownToggle = () => {\n    const { OptionList, resultList } = this.state;\n    if (!OptionList.length) {\n      this.toggle();\n    } else if (this.state.hideList === true) {\n      if (OptionList.length--) {\n        this.setState({ showList: false });\n        console.log(\"Running decremeny\");\n      } else {\n        this.toggle();\n      }\n    } else if (this.state.hideList === false && OptionList.length) {\n      this.setState({ showList: true });\n      console.log(\"rnning2\");\n    } else if (\n      this.state.hideList === false &&\n      OptionList.length &&\n      resultList.length\n    ) {\n      this.setState({ showList: true });\n      console.log(\"rnning3\");\n    }\n  };\n  /**\n   * checks for no result\n   */\n  noResults = () => {\n    const { showKey } = this.props;\n    const result = this.state.resultList.some(\n      (options) => this.state.searchInput !== options[showKey]\n    );\n    console.log(result);\n    if (result === false && !this.state.searchInput.length) {\n      return true;\n    }\n    if (result === true) {\n      return true;\n    } else if (result === false) {\n      return false;\n    }\n  };\n  /**\n   * returns dropdown list\n   */\n  render() {\n    console.log(this.state.resultList);\n    const {\n      showList,\n      resultList,\n      OptionList,\n      selectAll,\n      showOptions,\n    } = this.state;\n    const {\n      placeholder,\n      data,\n      searchList,\n      showKey,\n      multipleSelect,\n    } = this.props;\n    const list = resultList.length ? resultList : data;\n\n    return (\n      <>\n        <div\n          tabIndex=\"0\"\n          id=\"dropdown-div\"\n          onBlur={this.hideList}\n          className={styles[\"dropdown-div\"]}\n          data-test=\"DropdownComponent\"\n        >\n          <div\n            onClick={this.DropDownToggle}\n            className={`${styles[\"dropdown-button\"]} ${\n              styles[OptionList.length > 10 ? \"adjustheight\" : \"\"]\n            }`}\n          >\n            <div className={styles[\"button-heading\"]}>\n              {OptionList.length ? (\n                <div className={styles[\"selectedOptions\"]}>\n                  {multipleSelect ? (\n                    OptionList.map((optionSelected, i) => {\n                      return (\n                        <div className={styles[\"multiSelectOption\"]} key={i}>\n                          {optionSelected[showKey].length > 10\n                            ? optionSelected[showKey].substring(0, 10) + \"...\"\n                            : optionSelected[showKey]}\n                          <FontAwesomeIcon\n                            onClick={() => {\n                              this.removeOption(optionSelected);\n                            }}\n                            className={styles[\"removeOption\"]}\n                            icon={faTimesCircle}\n                          />\n                        </div>\n                      );\n                    })\n                  ) : (\n                    <div>{OptionList[0][showKey]}</div>\n                  )}\n                </div>\n              ) : (\n                <>{placeholder}</>\n              )}\n            </div>\n            <div className={styles[\"icons\"]}>\n              {OptionList.length ? (\n                <FontAwesomeIcon\n                  className={styles[\"removeIcon\"]}\n                  onClick={this.removeAllOption}\n                  icon={faTimes}\n                />\n              ) : (\n                <></>\n              )}\n              <FontAwesomeIcon\n                onClick={this.iconToggle}\n                data-test=\"icon\"\n                icon={showOptions ? faAngleUp : faAngleDown}\n                className={styles[\"icon\"]}\n              />\n            </div>\n          </div>\n\n          {showOptions ||\n            showList(\n              <div\n                id=\"lists\"\n                className={`${styles[\"dropdownlist\"]}`}\n                onBlur={this.hideList}\n              >\n                <div\n                  id=\"searchInput\"\n                  className={styles[\"searchBar-div\"]}\n                  onFocus={this.onSearchFocus}\n                  onBlur={this.onSearchBlur}\n                >\n                  <SearchBox\n                    data={data}\n                    result={this.getResult}\n                    searchkeys={searchList.searchkeys}\n                    placeholder={searchList.placeholder}\n                    className={styles[\"searchbar\"]}\n                    onChange={this.handleChange}\n                  />\n                </div>\n\n                {this.noResults() ? (\n                  <div className={styles[\"allListDiv\"]}>\n                    {multipleSelect && this.isAllSelected() ? (\n                      <div\n                        className={styles[\"selectAll\"]}\n                        onClick={this.selectAllData}\n                      >\n                        {multipleSelect ? (\n                          <FontAwesomeIcon\n                            className={styles[\"check-icon\"]}\n                            color=\"#3483eb\"\n                            size=\"2x\"\n                            icon={selectAll ? faCheckSquare : faSquare}\n                          />\n                        ) : (\n                          <></>\n                        )}\n                        <p className={styles[\"selectAll-heading\"]}>\n                          Select All\n                        </p>\n                      </div>\n                    ) : (\n                      <></>\n                    )}\n\n                    {list.map((option, i) => {\n                      return (\n                        <div\n                          className={styles[\"lists\"]}\n                          key={i}\n                          onClick={() => {\n                            this.removeSelectedOption(option);\n                          }}\n                          data-test=\"list\"\n                        >\n                          {multipleSelect ? (\n                            <FontAwesomeIcon\n                              color=\"#3483eb\"\n                              size=\"2x\"\n                              icon={\n                                this.isSelected(option)\n                                  ? faCheckSquare\n                                  : faSquare\n                              }\n                            />\n                          ) : (\n                            <></>\n                          )}\n                          <button\n                            className={`${styles[\"list-button\"]} ${\n                              styles[this.isSelected(option) ? \"selected\" : \"\"]\n                            }`}\n                          >\n                            {option[showKey]}\n                          </button>\n                        </div>\n                      );\n                    })}\n                  </div>\n                ) : (\n                  <div className={styles[\"no-result\"]}>\n                    <i>No results</i>\n                  </div>\n                )}\n              </div>\n            )}\n        </div>\n      </>\n    );\n  }\n}\n\nDropDown.propTypes = {\n  /**\n   *  must be array of objects\n   */\n  data: propTypes.array.isRequired,\n  /**\n   * must be a string (searchInput)\n   */\n  showKey: propTypes.string.isRequired,\n  /**\n   * must be a string\n   */\n  placeholder: propTypes.string,\n  /**\n   * must be an object\n   */\n  searchList: propTypes.object,\n  /**\n   * must be array of object keys and it is an object of searchList\n   */\n  searchkeys: propTypes.arrayOf(propTypes.string.isRequired),\n  /**\n   * will give the result\n   */\n  getList: propTypes.func.isRequired,\n  multipleSelect: propTypes.bool,\n};\n\nDropDown.defaultProps = {\n  placeholder: \"Select\",\n};\nexport default DropDown;\n"]},"metadata":{},"sourceType":"module"}