{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/teainee/Documents/React-Tasks/search-dropdown-menu/src/components/SearchBox/searchBox.jsx\";\nimport { Component } from \"react\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport styles from \"./searchBox.module.scss\";\nimport propTypes from \"prop-types\";\n\nclass SearchBox extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      searchField: \"\",\n      filteredResult: []\n    };\n\n    this.componentDidUpdate = (prevProps, prevState) => {\n      if (prevState.searchField !== this.state.searchField) this.searchKeys();\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        searchField: event.target.value\n      }, () => {\n        this.props.onChange(this.state.searchField);\n      });\n    };\n\n    this.searchKeys = () => {\n      let data = this.props.data;\n      const {\n        searchField\n      } = this.state;\n      let result = [];\n      let searchkeys = this.props.searchkeys;\n      searchkeys.forEach(searchkey => {\n        data.forEach(getData => {\n          if (!getData[searchkey]) {\n            return;\n          }\n\n          if (searchField.length && getData[searchkey].toLowerCase().includes(searchField.toLowerCase())) {\n            result.push(getData);\n          }\n        });\n      });\n      console.log(result);\n      this.setState({\n        filteredResult: result\n      });\n      this.props.result([...result]);\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          resolve(this.props.result([...result]));\n        }, 300);\n      });\n    };\n  }\n\n  render() {\n    /**\n     * this will render the searchBar component\n     */\n    let {\n      className,\n      iconPosition,\n      placeholder\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-testid\": \"searchBox\",\n        className: `${styles[\"container\"]} ${styles[iconPosition]} ${className ? className : styles[\"default\"]} ${iconPosition}`,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: styles[\"search-field\"],\n          placeholder: placeholder,\n          onChange: this.handleChange,\n          \"data-testid\": \"input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles[\"icon-button\"],\n          \"data-testid\": \"searchiconDiv\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            \"data-testid\": \"searchicon\",\n            icon: faSearch,\n            className: styles[\"icon\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nSearchBox.propTypes = {\n  /**\n   *  must be array of objects\n   */\n  data: propTypes.array.isRequired,\n\n  /**\n   * must be array of object keys\n   */\n  searchkeys: propTypes.arrayOf(propTypes.string.isRequired),\n\n  /**\n   * must be a string (searchInput)\n   */\n  className: propTypes.string,\n\n  /**\n   * must be a string\n   */\n  placeholder: propTypes.string,\n\n  /**\n   * must be a funct\n   */\n  onChange: propTypes.func,\n\n  /**\n   *must be a function which returns the result\n   */\n  result: propTypes.func.isRequired,\n\n  /**\n   * must be a string and must have value left/right\n   */\n  iconPosition: propTypes.oneOf([\"left\", \"right\"])\n};\nSearchBox.defaultProps = {\n  placeholder: \"\",\n  className: \"\",\n  iconPosition: \"right\"\n};\nexport default SearchBox;","map":{"version":3,"sources":["/home/teainee/Documents/React-Tasks/search-dropdown-menu/src/components/SearchBox/searchBox.jsx"],"names":["Component","faSearch","FontAwesomeIcon","styles","propTypes","SearchBox","state","searchField","filteredResult","componentDidUpdate","prevProps","prevState","searchKeys","handleChange","event","setState","target","value","props","onChange","data","result","searchkeys","forEach","searchkey","getData","length","toLowerCase","includes","push","console","log","Promise","resolve","reject","setTimeout","render","className","iconPosition","placeholder","array","isRequired","arrayOf","string","func","oneOf","defaultProps"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport styles from \"./searchBox.module.scss\";\nimport propTypes from \"prop-types\";\n\nclass SearchBox extends Component {\n  state = {\n    searchField: \"\",\n    filteredResult: [],\n  };\n  componentDidUpdate = (prevProps, prevState) => {\n    if (prevState.searchField !== this.state.searchField) this.searchKeys();\n  };\n  handleChange = (event) => {\n    this.setState({ searchField: event.target.value }, () => {\n      this.props.onChange(this.state.searchField);\n    });\n  };\n\n  /**\n   * searchkeys returns the array of objects as output\n   *\n   */\n  searchKeys = () => {\n    let data = this.props.data;\n    const { searchField } = this.state;\n    let result = [];\n    let searchkeys = this.props.searchkeys;\n    searchkeys.forEach((searchkey) => {\n      data.forEach((getData) => {\n        if (!getData[searchkey]) {\n          return;\n        }\n        if (\n          searchField.length &&\n          getData[searchkey].toLowerCase().includes(searchField.toLowerCase())\n        ) {\n          result.push(getData);\n        }\n      });\n    });\n\n    console.log(result);\n    this.setState({ filteredResult: result });\n    this.props.result([...result]);\n    new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve(this.props.result([...result]));\n      }, 300);\n    });\n  };\n  render() {\n    /**\n     * this will render the searchBar component\n     */\n\n    let { className, iconPosition, placeholder } = this.props;\n\n    return (\n      <>\n        <div\n          data-testid=\"searchBox\"\n          className={`${styles[\"container\"]} ${styles[iconPosition]} ${\n            className ? className : styles[\"default\"]\n          } ${iconPosition}`}\n        >\n          <input\n            type=\"text\"\n            className={styles[\"search-field\"]}\n            placeholder={placeholder}\n            onChange={this.handleChange}\n            data-testid=\"input\"\n          />\n          <div className={styles[\"icon-button\"]} data-testid=\"searchiconDiv\">\n            <FontAwesomeIcon\n              data-testid=\"searchicon\"\n              icon={faSearch}\n              className={styles[\"icon\"]}\n            />\n          </div>\n        </div>\n      </>\n    );\n  }\n}\nSearchBox.propTypes = {\n  /**\n   *  must be array of objects\n   */\n  data: propTypes.array.isRequired,\n  /**\n   * must be array of object keys\n   */\n  searchkeys: propTypes.arrayOf(propTypes.string.isRequired),\n  /**\n   * must be a string (searchInput)\n   */\n  className: propTypes.string,\n  /**\n   * must be a string\n   */\n  placeholder: propTypes.string,\n\n  /**\n   * must be a funct\n   */\n  onChange: propTypes.func,\n  /**\n   *must be a function which returns the result\n   */\n  result: propTypes.func.isRequired,\n  /**\n   * must be a string and must have value left/right\n   */\n  iconPosition: propTypes.oneOf([\"left\", \"right\"]),\n};\n\nSearchBox.defaultProps = {\n  placeholder: \"\",\n  className: \"\",\n  iconPosition: \"right\",\n};\n\nexport default SearchBox;\n"]},"metadata":{},"sourceType":"module"}